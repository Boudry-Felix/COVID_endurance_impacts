---
params:
  new_title: "My title"
title: "`r params$new_title`"
author: "FÃ©lix Boudry"
date: "`r Sys.Date()`"
documentclass: article
classoption: oneside
lang: en-US
output:
  html_document: 
    toc: yes
    number_section: yes
    fig_caption: yes
    number_sections: yes
  word_document:
    toc: yes
    number_sections: 4
    fig_caption: yes
  pdf_document: 
    toc: yes
    toc_depth: 4
    number_sections: yes
    fig_caption: yes
    df_print: kable
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = FALSE,
	error = TRUE,
	message = FALSE,
	warning = FALSE
)
# Import libraries
require(tidyverse)
require(knitr)
require(janitor)
require(gridExtra)
```

```{r Sourcing}
rm(list = setdiff(
  x = ls(),
  y = c(
    "my_var",
    "gen_env",
    "my_population"
  )
))
```

# Population description

## Anthropometrics

Some anthropometric data about the population in this study:

In the population kept in this study there are
**`r my_results$num$results_antrop$population_values$sex$feminin`** womens and
**`r my_results$num$results_antrop$population_values$sex$masculin`** mens and all of the
**`r nrow(my_data)`** subjects (all) were infected by COVID-19.

```{r}
my_table_count(input = my_data$covid_test, my_colnames = c("Tests", "freq"))
my_table(input = my_results$num$results_antrop$antrop_values)
my_results$plots$plots_antrop$antrop_plots %>%
  marrangeGrob(ncol = 3, nrow = 1)
```

## Training

```{r}
my_results$plots$plots_training$training_plots %>% 
marrangeGrob(nrow = 1,ncol = 2)
```

In the studied population, **`r my_results$num$results_training$training_values$endurance_sport$oui`** are endurance
trained athletes.

Various types of activities are done by the subjects. (potential errors during 
computing!)

## Professions

Subject's professions are shown below:

```{r}
my_results$plots$plots_antrop$population_plots$profession
```

## Pathologies

`r count(my_data$pathology)[2, 2]` have a known pathology.

```{r}
my_results$plots$plots_pathologies$pathologies_plots$pathology_description
my_results$plots$plots_pathologies$pathologies_plots$pathology_medication
```

# COVID impact on training

## COVID

### Symptoms

```{r}
my_results$plots$plots_covid$covid_symptoms_plots %>% 
  marrangeGrob(ncol = 2, nrow = 2)
```

## Post COVID

### Symptoms

```{r}
my_results$plots$plots_post_covid$post_covid_infos_plots %>% 
  marrangeGrob(ncol = 2, nrow = 2)
my_results$plots$plots_post_covid$post_covid_symptoms_plots %>% 
  marrangeGrob(ncol = 2, nrow = 2)
my_results$plots$plots_post_covid$training_symptoms_plots %>% 
  marrangeGrob(ncol = 2, nrow = 2)
my_results$plots$plots_post_covid$training_symptoms_notes_plots %>% 
  marrangeGrob(ncol = 2, nrow = 2)
my_results$plots$plots_post_covid$post_covid_difficulties_plots %>% 
  marrangeGrob(ncol = 2, nrow = 2)
```

### Training difficulties

### Hypoxia training

```{r}
my_results$plots$plots_hypoxia$hypoxia_plots %>% 
  marrangeGrob(ncol = 2, nrow = 2)
```

